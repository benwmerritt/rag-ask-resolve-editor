---
title: "I Stole Colors with “Math” Nodes"
video_id: fCDHKIJrhzg
channel: CreativeVideoTips
url: https://youtube.com/watch?v=fCDHKIJrhzg
duration_seconds: 1088.0
date_processed: 2025-11-03
---

## Transcript
On the color page of DaVinci Resolve, you can match two colors by eye. But did you know that on the Fusion page, you can precisely match colors using division and then multiplication? Today, let's learn how to use the Channel Booleans node with linear gamma in a 32-bit float working space to allow us to change the color of this Ford Bronco to any reference color that gets handed to us. Compositing and color correction is math, and sometimes it's pretty basic math. Let me explain. So I'm in a new Fusion composition, but before we do anything to the Bronco, I'm going to grab two background nodes to show you how you can go from one background color swatch to another. How do we replace one color with another? And that's the Channel Booleans node. So this first background here, let's just say we have some bluish color, okay? We could say this bluish green is our is our plate. So I'm going to hit F2 to rename this. We'll call this one our plate. And then this other one over here, we can call this our reference color. So I'm just coming over here. Let's say the client gave us this very specific red, and this is our reference. So I will also hit F2 on this one and call this one ref. How do we go from this greenish color to the red color and not use a color correct tool? Oh, by the way, if you don't see these thumbnails, just right click in the flow and you can say for source tile pictures, we're going to use the Channel Booleans tool. That's the key to this whole thing. It's a great tool. We're going to hit Shift Space to open up our tool picker, type it in Channel Booleans, make sure you get them with the s hit return. And to set this thing up for division, which is the first math operation we need to do is change operation set of saying copy to divide. So we're going to do operation divide. And then the only other change you need to make here is the alpha, we're going to change this to say do nothing because we want to do nothing with transparency. And we might as well give this a label a name so you can clearly see if you want to screen cap this how this flow works. We're going to put our reference image in there first. Okay, so that's the reference color that we want to change to. And what do we want to be changing? We want to be changing this green to the red. So the red or the green will go in next into that green foreground input. And so we want to see the result of the division of these two. I'm going to pick and flick to throw this into the window. And for the first time, you may see a value you've never really seen before and think it's like clipping and whatnot. For instance, if you take a look down here at the bottom, there's a red code value of 9.01. Actually, let's write that down. So red is 9.01798. So that's the result of the division. Where does that even come from? I think this is important to know. So I want to point out a couple more things over here. One is, we're taking this red value, which is actually, if you look down here again, 0.598, which you can also find in the inspector over here, 0.598. So what we're doing is we're taking that 0.598 number. So let's just write that up here, 0.598. And we're doing divisions. We're dividing by this greenish color of the red channel. So this is going channel by channel by channel. What's the color on the green one? I'll load that into the viewer. And you can see down there is 0.00631, as well as you can see that over here as well. So we'll go ahead and write that down. So we got 0.066312. What is that equal? Well, it should equal this 9.0 whatever it is over here. But let's actually pull a calculator out and do it for real. So over here, got my calculator, I'm going to type it in. So we got 0.598 divided by 0.066312 equals, there we go, bang on. Pretty cool, right? So this is all that's really happening. It's literally doing math on these pixel values per channel. So this is going to give us so much precision. And this is what's so cool about floating point math in the fusion page. So we can see that is our answer. So how do we return to the red? So we've only gotten part of the way there. How do we get the rest of the way there? We add a multiply channel booleans afterwards. So I'm going to click the flow over here to get another node going. And we'll just do another channel booleans. It's already selected. So I can just hit return. And this one, I'll rename it to say, mult for multiply. And we need to change the operation in this one instead of copy or divide. This one will be multiply. And same thing as before, I'll say do nothing to the alpha channel. And what are we multiplying? We're going to multiply the results of this division here. And not do a merge. So don't do what I just did there. Just drag it straight on into there. And the order here doesn't really matter because it's doing multiplication, which is commutative. If you remember that word from school, we're going to multiply the original footage and the difference between those two. And that should give us the original red, which it does. So we went from green to red with just a divide and then a multiply. If you want to multiply these out by yourself, you certainly can do that. Remember, the red value of this green would be this 0.066312. So we're taking this node here. And I'll write this down by this result here. So we have this over here be times 0.066312. And that should equal the red value, which is what is that down there 0.598. Let's do that with the calculator. Actually have the results of the divide already in there. So all I need to do is say times 0.066312. There you go. 0.598. You just did it. That's math. That's the reason that this whole technique of using two different color swatches to do linear gain is going to work, which I want to talk to you all about next, where we actually use it on real footage that's shot with Apple log in a linear ASUS CG workflow. Hey, if you'd like to follow along with the same footage and you've joined the cutting club, go grab the Bronco clip and let's get started. That's creativevideotips.com slash cutting club to get access to the demo clips that I use on these free YouTube tutorials. By the way, I'm Chadwick. I'm a certified master trainer for DaVinci Resolve and a working commercial finishing artist here in New York. But regardless, I'm just stoked that you're here to learn this simple but powerful technique. All right, so you know, we divide first with the channel booleans and then we multiply. But how do we work with real footage? This right here shot with an iPhone is shooting Apple log. So I want to get this out of Apple log as soon as possible. I'm going to do that with shift space, open up an ASUS transform, and I'll flick to load that into my viewer and I will change my input and output transform. I have a whole tutorial that I suggest you check out on this, because it goes into much more depth than I'm going to do in this tutorial. The input transform we're going to choose is where did it come from? We're choosing Apple log. And where's it going to? I want to put this in ASUS CG as the color space we're looking for. So just go down a little ways. And we're looking for ASUS CG. And we do want to turn on the gamut compression to reference gamut compression. And this is a change to what I had shown in previous ASUS tutorials. And this is actually how I do it now and how I suggest doing it. We're going to go into ASUS CG and not leave it on the Fusion page. We're going to go from ASUS CG to be tone mapped and color graded in the color page separately. So once we get into ASUS CG, we're staying here. Now you'll notice when I load this into the viewer, it looks like we've clipped things out. And this is your first time working with linear data. This is normal. Don't worry. There's a, there's actually what's called a view let in the viewer to compensate for this so that we can actually see things a little bit better. And you just access that by clicking this button right up here. And that sort of will tone map things down for you. Now this works perfectly for me because I already have this set up as a default that I show how to do in that ASUS tutorial to using the OCIO display view let, which I've clicked at it, which is essentially taking my source space of ASUS CG to my display of sRGB. And this gives me the wonderful gain slider that I can see every single pixel really nicely. And the version, if you're curious of the config file I'm using, click browse, I'm using 2.2 because it works with affinity photo. And it's just always pointing to there. And I had right click to say saving this as my default. That's basically how I access that. And if you need to know where get the config file from again, watch the tutorial, but go to open color IO, click downloads, and then you can download the file from here. You want the studio version. So now we have this in ASUS CG, we need to pull a reference of this, but we also need to pull, we need to pull a reference background of this color here. But we also need to pull some reference images to match to. So let's say we go to our media pool, we have some red or yellow version of the Bronco, we've got like maybe a blue version of the Bronco and the cactus gray, which is technically what the thing I shot was. The only thing is these are looked jacked up to these don't look like the right colors. And that's because we're looking at them through an ASUS view let. So I need to put these in ASUS to command C, command V. And if I load that into ASUS, well, this is not assigned correctly. The input transform is not Apple log. If you look at this, it was just a still image. So I need to change the input transform here because this is just like a screen grab to sRGB. And now it's mapped it into the right space. I can hit command C, command V, and just do that again for each of these other colors. So I can see these properly in ASUS space. The other thing I noticed is that these images in general overall are a bit brighter than this image here that I had underexposed apparently. So because we're working in a linear working space, we can use linear gain, which Colin Kelly has really nicely explained a lot on his channel. So to do that in here, just add a brightness contrast node. It's the simplest way to do that. And then we're working in linear space, I just need to pump this up a little bit. And then I can kind of get this as a general brightness level of some of these other shots so that things like, you know, the tires and stuff are not going to be so completely different when I start changing colors. So we'll call that good at 0.265. Now we need to grab some background nodes. The background nodes are going to be our references that we're doing division and multiplication with. So let's grab one background node. And we'll start by looking at the yellow version of the Bronco. Grabbing the color picker, dragging it over here. Your color picker might not look like this the first time. I have a 46 by 41 box. If you hold down command though, you can size this eyedropper, this color picker to be whatever size you want. Essentially, it's taking an average based off of whatever that size is. And once you drag it back, and you have to hold and drag across to the viewer, you can see. So that's 14 by 11. And this is a good thing to do because you might be grabbing a noise or something and it'll average it out for you. So now I can see I've got that yellow sample from the reference still from the from the yeah, the reference of the yellow version of the Bronco. Now I need to grab a couple more. So I might command C that command V on this second one over here. Let's got that loaded. Grab the color picker. Let's grab maybe that color there. That was matched. Do another one command C command V. And I don't need to connect to these color swatches into the flow. They're just kind of hanging out there as our reference for the division part of this process. So if you remember what we did before, and actually I need one more command C command V, I need one more background to sample what the footage is, which the footage is going to be the results of my brightness adjustment that I did. Okay. So for this one, go to my eyedropper and we'll sample an average of that part of the vehicle. And now we can put these things together. So the way it's going to work just like before, we have our reference color going into the division of the channel Booleans. And we're going to also plug in our reference color from our not a reference color, but our actual footage color. In fact, I'll rename that. So it's really clear here, call this our footage background sample. And that gives us some crazy high values. And what we did previously is we just took these two and we multiply them. But what if instead of multiplying by the original footage itself and betting so literal with it, what if we multiplied this the actual footage by the difference of this right here. So if I did this, boom, check that out. What I've got is the exact same color yellow from this reference still onto this image here. And the bonus to it is I didn't have to do any other work. Now I know what you're thinking, it took the whole images completely yellow right now. How am I even ever going to like work with that? Like you're going to use a roto and that's not such a big deal. But before I even apply the roto, which I've sort of pre baked to move this tutorial along as fast as possible, I'll show you the difference between the two. If I go to my buffer split wipe up here, say buffer B and load the reference into there. And then I can come up here again and say buffer split wipe, or it's the the forward slash key. You can see I've got a dead on match between what was sent, what was the reference, and what that image is. So I'm going to hit period to go back to the actual image. And I'll show you if you need to change to a different color, like let's say we need to go to this color, pretty easy, just drag this into the divide and it overwrites it. And now we've changed to that bluish color, which matches that guy right there. Same thing over here. Want to see that color on it. And if I want to turn it off, because this is in the foreground, on off, you can see the difference. Now, how do we apply the roto? Essentially, this has a mask input to it. So it'll affect everything going into that green pipe right there. I'm going to grab my roto, which I just saved over here, command C, and command V. And I'll put this in the download files if you grab this off cutting club. And you can see my roto is essentially I've baked out, there's one door handle, there's another door, you know, and I just built it up piece by piece on the vehicle. And I didn't want to waste your time on this. So it's basically it's polygons going into planar transforms that are concatenated with a bitmap tool. So these are going to go into the blue mask input of the multiply channel Booleans. And you'll see this isolates that correction of the multiply to just just just the, you know, the result of that roto just that white area. Okay, so I turn it on and off. You can see I've changed it to that cactus gray if I want to change it to blue, there's the blue, I want to change it to the yellow. Just make sure that's in the yellow. And we've changed it to yellow. I'm going to move this over here just a little bit so you can see a better screen grab of how the flow is working. Remember the background of the channel Booleans divide is the reference color. So that's this color from here. And then foreground is a color I sampled from the footage. Okay, those are getting divided with channel Booleans doing nothing to the alpha. And then we're doing a second channel Booleans, which I called mole for multiply operation multiply alpha is doing nothing. And it's masked off. But you could magic mass this lumic it is just cleaner to do it with polygons. And then you're ready to go back out to the edit page. Now on the edit page, you're going to notice something as I go over here. And that's that it's like super, super dark. And the reason why is it's asus CG, it's still in the linear space, but we have not lost data. And so what we need to do is do our color correct next by going to the color page, and we'll do a couple more aces transforms on the footage. The way I would suggest doing this is you have a input an IDT node, turn that on this is an aces transform that goes from aces CG to aces CCT. So that puts it back into log remaps all those pixels, we didn't clip anything. Gamut compressions is none because we've already done that we don't want to do that twice. And then the last node in your pipe is the next most important thing. And that's going to map us from aces CCT to rec 709. And again, with no gamut compression. And then you can do all your grading in between. So if I had this node right here in the middle commande to turn it on off, you can come in here and do any sort of creative adjustments. And you know, this just an exposure with the global HDR wheels, and set this wherever you need to. But the main point is we're going into aces CG in the fusion page. And we're not leaving it until we come back to the color page where we're coming from aces CG to aces CCT. If we need to change color, you don't even need to go back to the edit page. Let's say we need to cactus gray instead. So we come over here, grab a reference for that, we can just re hook that up. So that's in there. And you'll see we've got the cactus gray version of the Ford Bronco. Hey true story, this tutorial was actually inspired by a high end car commercial in which the right color vehicle was not filmed on set. So we had to fix it in post. And hey, if you haven't seen the tutorial that I have on matching colors without actually looking at color on the color page, check that out next. And because there's so much more to learn, I'll see you in the next video.
