---
title: "Screen Replacement Masterclass for DaVinci Resolve + Mocha"
video_id: p2VUuYPlC8w
channel: CreativeVideoTips
url: https://youtube.com/watch?v=p2VUuYPlC8w
duration_seconds: 2807.0
date_processed: 2025-11-04
---

## Transcript
Today I'm going to share with you my process for comping a real world shaky screen insert using DaVinci Resolve Fusion. By the end of this chapter mark tutorial, you're going to understand techniques that are rarely taught on YouTube. Things like the best practices to actually film screens for inserts, linear workflow, how to adjust Mocha Pro planar tracking data back in Fusion to perfect it, how to round the corners, control reflections with un-premultiplied additive blending, edge glow, motion blur, and how to replace the dynamic island for clarity with even a matching black level. This is not a beginner tutorial, but I will go at a pace that you can follow along with. In fact, I'm providing the clip and project available to download as part of the cutting club on creativevideotips.com. Okay, filming best practices. Number one, if you see right here, we're actually filming a black screen. The screen is completely off. This is how the pros do it. It gives you the most reflections that you can play with afterwards. I'm going to show you how to do that. If for some reason you're shooting in an environment that's really dark, then what I would do is actually shoot with a gray screen instead. That way you can get some of the glow from the environment back onto your subject, their fingers, that sort of thing. But don't shoot on a green phone. There are so many stock clips out there of green TVs, green phones. It's not helpful. And really the biggest reason we don't shoot with our screens with a green on them is because we're not going to be keying them anyways because the key won't work if you have something interact with the screen. Like if a finger touches it, it has green light glowing back on it. So you can't actually key it out very well at all anyways, you're going to have to rotoscope, which is going to be a tutorial for another day. Actually shoot this screen, not with a wide open aperture. Believe it or not, this clip right here was probably shot at like a five, six or something on a 35 millimeter lens. If you shoot with a super shallow aperture, and I've seen pros do this on commercials I've worked on, you end up with a really, really small sliver of screen that's in focus. And generally if you're doing a screen replacement, you need to see what's being inserted. You need to be able to read the text. So shoot with a deeper depth of field than you probably think. Another tip I'll give you is shoot a little bit wider than you think you might need for a screen insert. So if you can see all the edges and then just blow it up in post, that's usually a good option because that can be really helpful. And then finally, the best practice I have for you is think if you actually need to actually have tracking markers because of planar tracking, it doesn't actually rely on tracking markers. Now sometimes it can be useful, especially if you depending what tools you're using. But if you have tracking markers, you have to paint them out. So really think twice if you actually need to have tracking markers, linear gamma workflow. So if you also believe that one plus one equals two, then this workflow is for you. So basically what we're saying is we're going to strip off the gamma of all the clips when we put them together so that they composite as they would if it was shot in the real world. And the way you can easily set this up in DaVinci Resolve, I'm going to jump right to it down in the lower right, we have a little gear switch down here. This will take us to our project settings for color management. I'm going to enable color management for this project, set it to DaVinci YRGB color managed and SDR is fine because that's all the footage I have to deal with in here is SDR footage. If you had HDR footage, you could you could change it to that. And then you need to assign your clips and any elements that you're going to be using so that Resolve knows where the image is coming from. So this clip right here, you would select the clip. And now you have on the edit page, media page, color page, if you right click on it, you have a new option called input color space. And this is basically you telling Resolve what is the footage and Resolve will know how to interpret it and do the math on it so that it can composite correctly, you can color correctly. But this right here is going to be Rec 709 scene, which is gamma 2.4. It's what we need for this. The other thing people always ask what is seen, it's basically on output, it can give you 111 color tags. So it looks nice with quick time player can understand it and YouTube. But anyways, if you had Sony footage that was logged, this is where you would assign that. Not getting into color management, other than I want to show you how to turn that on because when you turn, and the same thing with these other elements here, these these PNGs, we want to make sure these are set to input color space sRGB, which they are, because they're graphics. The reason I turn color management on is as soon as we go down to fusion down here, click this button, now we're in fusion, you automatically are converting your footage to linear gamma. See this right here, up at the top, this automatically enables what's called a fusion lot. So this is basically resolve applying like a correction to view it. But what it's actually operating on, if you turn that off, is this darker image, which is linear gamma. And so just by turning on DaVinci resolve color management, you can work in linear like a pro and fusion without doing any extra steps. Tracking with Mocha Pro. So before we even track, I'm going to change my workspace up here to layout presets, fusion presets mid flow. That's how I've been preferring to work in here, because it lets me use one viewer which cuts down on processing power. So I'm going to just enable my two viewer only. And I can really move in and zoom in on parts of the frame. So if you have mouse, it's the command or control with mouse wheel moves the end to specific pixels, command f, control f fits the viewer. But only having one means you're only processing one image at a time. So I can see nice big image. And we're going to look at details today, we're going to really refine and have some artistic intent to what we're doing. So to get Mocha Pro running, you can see the shot is a well, it's bouncing around, it goes off screen. The planar tracker is good for some things in fusion. But I don't think it's going to work very good on this clip. In fact, I tried it. And out of the box, it doesn't work great. So I'm going to show you how to use Mocha Pro, mostly because it's hard to find tutorials on that. So let's load Mocha Pro by hitting shift space, Mocha Pro, type it in. And then to get this going, we'll hit launch Mocha UI. This is not sponsored by Mocha. I just I'm a customer, and they have given me a discount code. So if you want to try it out for free, you can do that. And then, you know, you're welcome to use discount code I have available for you down in the description down in the description. And what Mocha is doing right now, it's reading directly from our fusion composition, the same file. And you'll see right away, we are working in a linear workflow. And this image looks super dark. And this because it's just not viewing it is not displaying it correctly for linear. So to change that up in the upper right, there's this little button here, and it popped way over to this side. But the working color space is not sRGB. In this case, it's seen linear. Okay. So now we're actually able to see things better. The display view probably should actually be sRGB for my monitor here. Now we can see things a lot better. Now the first time you're in Mocha Pro, play back the clip and it actually caches files to your disk. Now in Mocha Pro, to track this, you might think that you're going to draw a box, a shape around, and this is a common mistake, you would draw a shape around this whole area, hit control that closes the shape up, and try to track this as your surface. You can't do that with phones because they're basically a mirror. See this reflection here, that's not representative of how the surface is actually moving. It's representative of a mirror, like of what the sunroof in the truck was looking like. So instead, I'm going to delete this layer. And I'm going to show you one powerful thing that Mocha Pro has, and that's the ability to have multiple shapes on a layer to track. You can't do this with the Fusion Tracker. So I'm going to grab the explain tool right here. And we're going to actually use instead of the reflections, we're going to use the edges of the screen, the little bezels, to get our tracking data. If I hit control, that closes our shape up. And by the way, if you don't see these these highlights, this is with the maths turned on, that's option one, alt or option one, which is found up under the view, maths selected tracks. And this basically this highlighted area is the area that's going to get tracked when we start to run the tracks. Now to add another shape, it's actually really simple. This tool right here, if you click down on it, there is a x plus button right there. As soon as you do that, you're able to continue adding to the same layer. So it's going to use all this different shape information together at once when it tracks. So I'm going to select a different area here on the screen, let's grab this this right edge, get a little bit of the the phone holder there that might help out and hit control to close that shape up. Let's take another x plus up here, right. And we can get the bottom I'm going to zoom in actually on the screen with z, then x to move around. And I think you can use your mouse wheel now as well. But if you just start clicking here at the bottom, we're going to minimize how much reflection area we're actually tracking. Right, just kind of get that control closes it up. You could obviously do this as one bigger shape, I just want to show you the advantage of how you can actually use multiple shapes. So we'll do this again, down here. We're going to use some of that phone holder there as well. So just clicking points. And again, I'm kind of going right along the outside edge pixels. So it can kind of define that surface, I might move that one in a little bit, hit the asterisk key. And that does a zoom to fit. So we're pretty much set up the track, except when you start tracking here in fusion, seeing these shapes move is not indicative of how good your track is, you have to do that with the surface tool. That's this button here, this s shows your surface. And this is basically relates to what's going to get translated back into fusion. We're going to get a corner pin tracking data from Mocha to fusion. It made a small one on our first shape. That's right up over here. So we're going to actually take the center point, click and move that. And then just kind of, you can kind of drag this out and get a rough estimate of what the phone shape is. You don't have to get this precise here in this step with the workflow that I'm showing you today. Okay. So now that that is set, we turn on perspective, because phones almost always will have perspective. And we want to try to capture that data. So it's not on at first, we're going to turn that on. So you're capturing all this information. And then to start tracking, we have a track forward button right here. That's goes, this one right here, I believe goes frame by frame. And this one goes to the end. Let's see what happens. One of the cool things is when it goes off screen, it's still tracking. See, it's still holding those points. And that's one of the cool things about planar trackers is they work best, they're they're able to work off screen, where a point tracker would not be able to do that. We can check our track in a couple ways here in Mocha. One would be to turn on the stabilized view, which is this little hand right here. And what that does is it sort of locks down that center frame. That's one way you can sort of check it. Another way you can sort of check your track instead of that would be turning on this pink grid. It's basically giving you an expanded view of the surface. So if that is holding well and looking decent to you, you could call it good. And then one other final way you can sort of see your track data in here is under your layer properties, you have this area called insert clip is down over here. And you can turn on a logo, an insert layer actually from Fusion, it can read that. Or I just would turn on the grid here. And you can see if that's holding pretty good, we're in a pretty good shape. So if you have a really bad track, you're going to have problems down the road. So this is where you want to spend time to perfect it. But Mocha, pro and Boris FX have so many good tutorials on their website, that I would just be repeating what they've already done. So to get this information back into Fusion, all you need to do is make sure you're on the layer that has the tracking data, we'll call this track. And what it's going to do is it's going to export this surface area. Okay, I hit Z, they move in, these corner pin data is actually going to get converted into the standard four point tracker in Fusion. And what that means, and I'm going to include this in the project file, like I send over, it means that you don't necessarily need Mocha pro if you hand this off to someone else, and you give them that tracking data, it's really kind of cool. So we're going to select the what we want to export, select the layer that we want to export. Then down here at the bottom, we have export track, click that. And you're going to notice you have a ton of options. The default for black magic fusion is not selected to start, but once you do it once it saves it, we're going to use black magic fusion comp data, and we'll copy it to clipboard. It's important to choose the right one because different software chooses different points to map. And as soon as you've done that, here's a big gotcha with using Mocha, we're going to hit save. You see up here, we've changed it, hit save, close Mocha command queue. And now that you've done that, you've released it from the host so you can go back to Fusion. And to paste your track data, click anywhere in the flow. And if once you click, this is where it's going to paste to command V to paste. And it basically puts a loader node in here, we don't need that. We have this tracking tool with tracking data with keyframes down here. So to use this tracking data over in Fusion, what we're going to do is we can actually take our media out, I'm going to disconnect that, let's set our Mocha Pro plugin off to the side. So that saves our project information. And the way the tracker can work is as a compositing tool in and of itself. So we're going to start that way, I'm going to take the output of our media in, go to the background input of the tracker tool. And as soon as you've done this, you know, not much has happened, other than the fact that you can go to operation over here, change operation to corner positioning, okay, corner positioning will move and then we have it set to foreground over background. Okay, so we have no foreground in here yet, let's get a foreground pumped into this image. And it's going to take this red box here and fill it up is kind of the idea. One way you can do that is I'm going to add a background node, shift speed, shift space, and then we can choose bg for background. Let's give it some color, I don't know, let's make it yeah, let's do sort of this pinkish color. If you pick and flick a color, it loads up over in the viewer. That's one way to see what state of what node you're in. And then the other thing about this is think about the phone, okay, this phone resolution size is actually not 16 by nine, this is 3840 by 2160, this phone screen size is more like a vertical ratio. A lot of times you won't know what that ratio is, the resolution is. But for this one, I know it's probably like a nine by 16. So for our background, we want this insert to kind of be the exact same as what it physically would be on the device, you could look that up, I'm going to change the change the resolution here of the background under the image settings area, and I'm going to turn off auto resolution, you have to turn that off first. And we could change this to be 1080 by good old 1920, thank you vertical people of the world. So this is more along the size of the screen size that we're going to be putting in there. And we could also start by putting some text in here, let's put a text plus node in, and a way you can put these together without a merge without actually getting the merge is you take the output of one, like the text, and then you kiss that. So I want this on top. So I'm starting with the text, and I'm kissing that with the output of background, and it creates a merge automatically. So handy little shortcut to create the merge. And then if we look at the merge output, there's nothing there yet, it's because we haven't typed anything in the text tool. So why don't we type the name of this channel, which is creative video tips. And you can see, looks good, it's not distorted or anything like that. I hate this open sans fonts, why don't we change this to aerial black, sure. Yeah, it's fine. And then we're going to take the output of merge, put that into the tracker, look at the tracker. And now you'll see it's distorted only in the fact that it's the corner pin. But you don't have to worry about matching resolutions or anything else like that, the corner pin is taking care of that for you, it's smart enough to know. Now you can see, I didn't actually get the edges all the way out to the edges of the phone in mocha. And that's fine, we can deal with this with the tracking tool itself. And that's how I prefer to do it, because then I can see it in the comp itself, without having to deal with the plugin layers and that sort of thing. Let's go to frame one, and I'm going to show you a couple of cool tricks. On frame one, you can see we have all these trackers are still available to be moved in this list over here, because the checkbox is turned on. I want to basically lock these in. So if you click on once, it turns them off, if you click it again, you get this like circle thing, that locks those tracking markers in so that I don't accidentally move them in a different way. And to actually sort of see what you're doing on here, you might want to do two things in this three dot menu. I'm going to click it first, to turn off for smooth resize. Okay, if you move in really close on some pixels, smooth resize basically does this sort of blending, you can see where it blurs the edges to make it nicer to see. I almost never want that on. So I'm going to turn off smooth resize. And the other thing I'm going to do is turn on the gain gamma viewer, which is just a way to sort of see on the display, dark areas a little better, you can adjust things better. So I'm going to turn on the gamma and turn that up a little bit better. So I can really see the edge of the screen. It's not actually color correcting the footage. This is just so you can see to position things. You've got a couple ways you can you can set these corners, one of them. That I'll show you is if you're really into numbers, that sort of thing, you can click the tracker tool, go to modifiers, each tracker has its own modifier, and these have these paths here. And this path center can be adjusted. And it's basically like an offset. And you can move this with floating point values. If you hold the command wheel, or command key or control key, you see you can get really fine increments on where you're placing that. So the idea is we'll get our edge placed correctly on each corner. The other way, and the way that's more hands on, so maybe I might use this to perfect it, is not using the path modifier, is actually using the offset. And the offset is controlled with this button right here. This is I've talked about this before on my point tracker tutorial, you turn that so that is blue up there. See that how that offset number is changing. So that offset is basically applying it. And it's doing all the math. So you don't have to worry about losing quality on this, okay? It's going to stretch it out to those edge corners. And the reason I locked to the tracking data is I'm not concerned that maybe I'm actually moving tracking data that's animated, or just moving these offset corners, okay, using that set to blue. And the way I'm moving around in the viewer so easily is it's the middle mouse on this welcome is the bottom button. It's not perfect yet. It's roughly placed. But if you wanted to change this further, you could go to the modifiers, like I said before, and change this position here as well. Both are valid ways and decent solutions. So let's say we have this roughly in the right spot, but there's a big glaring obvious problem. And that's that we have a corner, the screen itself, if I load this over here is curved, and our insert is not curved. So how do we deal with that? Well, you want to mask it, and you want to mask it far back in the source as you can. So it's around the corners of the insert, we're going to actually use a rectangle mask. And the reason we'll do that you'll see shortly. So let's add a rectangle, click anywhere in your flow, that's where a little drop shift space RCT is rectangle. And as soon as you add the rectangle, it has this feature over here called corner radius, that corner rays is great if it's like a symmetrical corner that you need cut out. And if we look at our comp here, we want to actually be cutting out this purple, right, we want to be masking that off. So that means our mask needs to be masking off the background. So I'm going to take this into the background effect. And it cuts it off too much. While the default for rectangle is for the width and height to be set to 0.5, change those values to one. And it's basically like it's doing nothing. So if you look back at this image here, this is what we're actually masking. If you if you ever not sure what you're actually doing, look at the node itself. And I can change the rectangle mask to have corner radius and start to pull that in, you'll see up here at the edges, that we're rounding those corners, and it's rounding them nice and symmetric. So that's that's a handy way anytime you have rounded corners that are symmetrical, to mask them back over here in the flow, let's look at our tracker, because we want us to look at see how this is actually comped together as we're working. And I'm looking through the tracker, you can see that up here, we've gone too far with it. So that's when you can still select the rectangle, but look through the tracker. And over here again, with corner radius, command wheel down or control on a PC. And you can move this to where it really sort of fits those edges nicely. And not just get pretty good, but actually get it to, you know, broadcast acceptable quality. Back in the tracker tool, we can adjust those offsets again, make sure you select the little offset tool up there, make sure that's blue. And then you can take the point out there, and adjust it as you need to to get it fitting nice. Okay, can't see the bottom frame there. So maybe I go to a frame where we can see all corners. I think our roundness is in pretty good shape. And we want that to cover the screen but not go too far beyond, you know, something like that. The other thing you might consider on your mask is to put just the tiniest bit of on the rectangle mask, the tiniest bit of soft edge. This is basically a blur of the edge of the mask. Because this stuff shouldn't be, you know, you can see how what it's doing there. Just the tiniest amount is probably all we need. Command F, let's turn our gain game of viewer off. And now that we see it full screen, it's not looking too bad. Maybe this upper right corner needs to be adjusted a little bit. So let's let's do that real quick. Slowly pull that out. We're moving this thing. And there's no motion blur, but there's actually motion blur in the scene. So the way you turn motion blur on, really simple thing on the tracker tool, the thing that's moving the object, which is what the tracker is doing, go to settings. There's an option, checkbox here, motion blur, turn that on and definitely turn the quality up to 10. Because why not turn things up to 10? Actually, you really want to do that because it's going to be a better, a better representative of how it would be shot in camera. You could even turn it higher if you wanted to just enter the value in. But that'll work for our purposes right now. You can see we've got some blur on there, but we have no reflections, we have no glow. So that's what I've got to show you next. So now you can see we've got some motion blur, we've got a an insert placed in the image, but we have no reflections. Well, a couple things I'll do before we get any further is we've got that motion blur turned on. If you want to improve performance, one thing I'll do is I'll right click in this, you know, this player area down here, you can turn off motion blur, and also right click and turn off high quality. This is going to give you a lot better playback, no matter what machine you're working on. So I would suggest to do that. A lot of people will tell you go to the tracker tool because they can do compositing as well. And then under the, on the tracker tool itself, go to the apply mode over here and change this to something like screen. And it's going to do some compositing math for you and you can see the screen reflection. But the problem with doing it this way is what if you don't want that much reflection or you need more reflection from the natural environment placed back in the image based on whatever you're inserting, you know, there's lots of reasons you need to control the reflection. Well, you might think you go to the tracker tool settings and turn blend down. But as soon as you do that, you're actually turning down the opacity of that foreground layer. That's not what we want. We actually want to just control how much of the reflection is is getting added or taken away. And so we do that by separating it. The way you separate it is on the tracker tool, go to operations instead of being merged that to work background over foreground, or sorry, foreground over background changes to foreground only. So with your tracker tool set to foreground only, you just see the insert moving, but this separates it so we can control reflections and all kinds of things. It's really, really useful to put this back on top, we're going to add another merge node. Okay. MRG. And how do we stack this over the background foreground over background? It's as easy as taking the background feeding that in there. Tracker tool goes on top. And that's where we started, we just separated things out. So we have a lot more control. Now to get the reflections back on top, we're going to go after our tracking tool, right? And we're going to use a merge. Now to do additive blending, you can do this in a couple ways. One is to use a channel Booleans. Another one, there's actually part of merge that's built in to do additive blending. And what I want to do is I actually want to blend the reflections from the original thing on top of our insert. Well, how do we do that? Here's our background, and I want to put this on top. So it goes on top like this. But then you're like, Hey, Chadwick, you just lost everything. That's what a merge does, right? It takes the foreground and replaces it. Well, yeah, most of the time by default. But if you're working in linear space and you want to use additive blend mode, go over here. And there's a we're already set to additive. That's what one says over here, right? You turn your alpha gain down. Now you have an additive. Now you've added the reflections of what's on the top to the bottom and it blends really nicely. And the nice thing about this is if you want to double the reflection amount or change the opacity of how much reflection you're pulling through, now you can go to settings, blend, and then control the reflection. Ignore the outside right now. We're getting that to that in just a second. But let's say we want to double up the reflection, just add another merge node right after it. Take the background again from the source clip, right? I'm going to show you on my website, there'll be a flow that you can take a look at if you're a little lost on how things are connected. On the second merge node, again, make sure you turn your alpha gain down to zero. Now I've added plenty of reflection back onto that image. It's going to be easy to sell. In fact, maybe it's too much. So on this one, you have the fine control and her settings to pull your blend down to right where you want it to be. Now this checkerboard thing is telling us this is an unpre-multiply image. It's not, we need to cut this thing out, right? And you do that by multiplying it. But here's a big gotcha. If you've done color correction in Fusion before, you know there's a checkbox called pre-divide post-multiply. That doesn't exist when we're working this way. So we need to take care of that ourselves. There's tools to do that. You just need to be aware of them. So what we're going to do is we're going to take our original tracking tool here, take a look at these edges here. And again, if you don't have smooth resize turned off, I would say turn that off so you can really sort of see what's happening on the curved edge where there's anti-aliasing. We're going to add after this, we're going to divide out the alpha channel from the RGB pixels to make those pixels opaque. Do that with alpha divide shift space. ADV is the tool add to add it to the flow. And we're going to take a look at those edges, what just happens. We divided out those those pixels there. So these are solid. We're removing the transparency from these pixels so that they're not changing color value as they go to the edge. And that's how you want to be adding stuff when you're using additive blend. You don't have to know all the math behind it. It's actually really simple. It's the division from elementary math and multiplication. But now we need to multiply to cut this out after we've done our blending of the foreground. So we choose merge. And then there's a tool called alpha multiply AMI. Add that afterwards. And this cuts it out again. Right. And it cuts out correctly with the colors of the transparency from the corners or any time you have like a soft edge on something. Right. That is the correct way to do it. Take a look at merge. And you can see we're actually getting somewhere now. Edge glow is a great way to sell your comp a little bit further. Now that we have it all separated out, it's not hard to do. So let's look at our insert only. And we're going to apply the glow just to the insert. So select alpha multiply shift space puts the glow afterwards. The glow is a built in fusion effect. G. L. O. is the shortcut for it. Throw it up over there in the viewer. And you can see it's way too intense. But it's hard to see how this actually composites. So look through it. The merge node. So we're looking through the merge node as we do this while selecting the glow. So we can see it in inspector and let's cut this down to I don't know, 0.3. Just a subtle amount is all you need. To see those edges kind of change on the background area there and have the glow spread over. We can turn this off and on. Just that tiny bit can do a lot. But we don't have an edge mask yet. So I'm going to show you how to use how to create an edge mask so that this is restricted to just the edges. Right. Because we don't want it glowing the middle of the phone. To create that mask, we're going to use something I learned from Burn Clem from VFX study. He has an incredible YouTube channel and everything that guy says if you really want to learn fusion is rock solid. So I highly recommend you check his channel out. We're going to create an edge mask using two matte controls today. Lots of ways to do it. We're going to use this method. So one matte control. Let's add another matte control. Okay. And I'm going to disconnect this here so you can see where we're pulling our alpha from to create the edge mask. On the screen insert this alpha multiply layer here. So this is before our glow. We actually have an alpha channel. You can see the alpha channel if you hit A on the keyboard or you go up to here. These are shortcuts to see different channels. By the way, if you hit Z, it takes you to this infusion. We have no Z depth. There's none of that. So if that ever happens to you, just hit A to see alpha C to see the color or RGB to see those individual channels. Okay. If you get stuck, good thing to know. But let's look at the alpha channel. So A and we're going to take the alpha channel output of the alpha multiply, put the plug that into Mac control. We're going to also take it and plug it into our other one. Okay. Back into the background of both of those. Now the idea of creating an edge mask is we're going to compare the two of these. We can subtract one from the other like a blurred copy of one. And that can give us an inner or outer glow. And so to do that, we'll take our first Mac control here, throw it up in the viewer so we can see what we're doing and change the blur amount on this. And you'll see we're blurring the edges. So this is the amount of edge mask that we're going to be using on the glow. Right. The second one, we'll leave hard, we'll leave as is. We'll take the output of one and plug it into the foreground of the other and see the results of those. Now nothing has happened by default. So let's select Mac control two, and we're going to change the combined operation over here from none, which is the default to combine alpha. And what that does is it has combined the alpha of the two, but it's done so with a copy operation. And we want this to be a subtract operation. So we want to subtract one from the other. And there you can see we've created an edge mask. Now I always forget which way these go. And I kind of did this on purpose too. This is more of a light wrap where it's coming from the outside. I want this to spill to the outside of our edge. So there's our edge. I want this to spill out. The easiest way to flop this, so it goes the other direction, is just on this resulting subtracted Mac control, hit command T or control T. And that changes the foreground and background input. See how these green and yellow lines over here are swapping. That changes what the foreground is. And it also changes your edge mask. So that edge mask now spills to the outside. This is our alpha channel. So the white parts, the part that's going to get affected the most, which is closer to the edge, which makes sense for a glow. And I'm going to hit C now so you can actually see the resulting image. Let's go to merge actually. And let's apply this mask to the glow. So the output of here is going into that mask input. And you can see we are now not glowing the center of the insert, but it is glowing the edges. So if I go back to merge over here, you'll see very subtle because we didn't turn it on very high, very subtle glow. It might be hard to see. So I might exaggerate this for you to let's change the glow amounts here to, I don't know, we'll turn it up to there. And very, very subtle amount. It's these little finishing touches that really can make a difference to blending something. Super quick time out. If you're new here, I'm Chadwick. I'm a commercial finishing artist and DaVinci Resolve master trainer that's obsessed with teaching all things post production, especially workflow and the techniques that aren't easy to come by in YouTube tutorials. So please let me know in the comments if part of what I'm teaching today doesn't make sense. Or if you have ideas for future tutorials, I do my best to read and respond to them. And I do really appreciate you. You are more creative than you realize. Now let's get back to finishing this comp. So now we have an edge mask, we have reflections that are controllable. What do we need to do next? Well, I'll tell you, I was working on a commercial last year. And one of the common requests would be, we need the camera to be more visible in the product shot. So why don't we take the Dynamic Island PNG that you can grab from Apple's website and throw that back on top of this and match the black level. Let me show you how to do that. I want to actually see the Dynamic Island. That's this little thing here with the camera back on top of here. You'll be able to see, if you change this background so it's actually darker, you can kind of see through it a little bit more. You can see a little bit of a dot there. That's where it's at. But the client's not going to be happy if they're trying to sell the phone and they can't see that because that's like a selling feature. So on Apple's website, you can get the PNG for it. I actually grabbed it and I'm going to throw it in our flow by just going to our elements and drag it up over here. And you can see there's a Dynamic Island that we can comp on top of it. So let me show you how that works. We're going to close the media pool to give us a little bit more space. And this is, we're getting a little more simple here. But what I want to show you that's advanced is the idea of matching black levels. So let's merge this on top, shift space, merge. Right. So over here in our flow, we're going to take our current composite, which is we're really happy with, right? We're getting somewhere with it. It's moving. We're going to take this and stick it on top. But we need tracking data, right? We need to corner pin this. Well, we already have all that information that we've done earlier. So we'll just reuse that. Right. So to reuse that data, I'll take the tracker one, that's right here, command C, go after the new element after this Dynamic Island element, command V to paste it. And you'll see in the tracking tool itself, it is not moving. And that's because we have our tracker set to foreground only. And we have nothing from the foreground. But we do need the background to set the resolution. So we do need to take our original media in one, which are sets our 38 by 40 resolution. And we need to flop these so that we're putting the dynamic island on top. Again, the trick I showed you before command T flops those inputs. And now we have the dynamic island right on top, right? But we need to do a little bit of a little bit of magic here to make this black level match what really existed on the screen. And these resolutions of my original background here don't exactly match. So what you could do here is offset these a little bit differently on this this tracker right here. So I'll do that real quickly, choosing that little blue button up there, and just getting these to match up a little better. And I know you're wondering, there's that whole bezel there. But we're going to take care of that with a mask. Let's go to a frame where we can see all the edges. Again, this is why you want to shoot wide when you can to see all edges at least at some point. And then you can push in afterwards. Now to mask this off so that we're just using the dynamic island, you kind of guessed it, we're going back to the original clip to put our mask on and we'll draw a real simple shape, right? I'm going to draw, well, let's use a B spline, no one uses B splines and tutorials, and that's my favorite kind of mask. So B spline, can't see anything on there, but we can on here, but you click the B spline before you connect it, okay, zoom in. Now I have B spline selected over here. You can make your points around it, right? Shift O closes it. And the reason a lot of people don't use it, these B splines is because they have these weighted corners that don't match exactly when you click. Well, I think this is an advantage, because what you can do is if you didn't know, I'm going to select both these edges, hold option to move these out. Okay. Oh, by the way, anytime you add a polygon over here, this is really good to know. It creates a keyframe, because it's expecting you to rotoscope, right? I'm going to remove the keyframes by right clicking over here and say remove B spline, polyline. And that way in case I were to change the shape at some point later, is not going to change the shape on me. Just it's good to know that that's set up to keyframe for roto by default. I don't think you can turn that off. But to select these over here and move these over here, I'm just going to back box select, hold option. You don't have to actually select the points. And you can do that to change things. But the other thing you can do with with B splines is you can change the weighting of the corners. So if I wanted to just select this corner right here, hit W or hold W on the keyboard, drag, and it changes that. So it's like a polygon, but you don't have to deal with the messiness, I'm holding W, of tangent handles to create curves, right? So this doesn't have to be exact. The main idea is I was just going to cut out this dynamic island segment right here, okay? So as long as that's visible, like that, we are definitely good to go. So to mask it off, you take the output of the B spline, plug that into the mask input of media in one. And now you can see the edges, the bezel part has gone away. So when we look at this over here in the comp, we now have a dynamic islands following. And it looks pretty good. It's not bad, right? It needs two things before we go further. One, we need it on our tracker tool because this is moving the dynamic island, go to settings and turn on motion blur. Okay, that was already turned on because we did a copy. But always make sure the thing that's moving has the motion blur checkbox turned on. But the black levels, like the color correct, is not the same. It doesn't quite match. And actually, while I'm here, I can see it looks like there's more space here on the right than the left. So this is the tweaking kind of stuff that you can do with those offset tools, right? So I'm taking this blue offset of this corner here. And I'm just going to lift this up a little bit so that it's more parallel to the top of the phone. That looks better to me. So to match the black levels, we're going to actually use a great plugin that's available on the reactor tool set called Blacks Match. Now, if you're unfamiliar with with reactor, that's that's under if you go to workspace, scripts, reactor, open reactor, reactor is basically this amazing playground of free effects or you can donate to the creators of tools that are really kind of missing from fusion that maybe exist in nuke or flame to just make your life easier. So the one I'm using today for this is called Blacks Match by Amelia Sapia. His Milo Labs is his channel. Again, that's that's another really, really great YouTube channel that you should be checking out. There's a tutorial on the we suck less forums on how to actually load reactor into your fusion system or your resolve system. So shift space will pull up the Blacks Match tool from reactor. And the way this is going to match color is simply taking our dynamic island image instead of merging it first, I'm going to intercept it here, put this into the background of Blacks Match. And Blacks Match tool is kind of asking here where we're getting our reference from, well, it's getting the reference Black level from our main plate. So I'm taking this, putting this into the foreground. And as soon as I do that, we should see a change. Now this is a subtle difference on YouTube. I'm hoping this comes through. But it's lightened it up. And it's basically done a color correct for us without us having to do anything else. So that will fit nicely into the scene. And now all we need to do is merge this back on top, take that back to the foreground. You can see the difference before and after on off, not a lot. But if you see these values here versus before, you know, this was 0000, nothing is 0000. There's actually, this just takes the not only the colors, but it actually is going to show some of the grain through as well from the original, which is going to be useful to sell the effect. Okay. And then the one of the last things here I'm going to show you is we have some values that are over one. And so we kind of want to clamp those down. This is one of the things you need to know about when you use additive blending and working in linear is if I put my mouse here, and then you look down here, values are over one, it's really a problem when you use over one values for alpha channels. But I like to tidy things up at the end by placing a BC brightness and contrast node towards the end of the flow. And then over on the right side, you have the option to clip your black and white levels. And as soon as I do that and load this over here, you'll see down at the bottom, everything has been clamped off at a value of one for this pure white. All you need to do is take a matching aspect ratio screen insert, and you can swap it out just like this. Go to media pool, pull your new insert in. I've got just a screen grab from my YouTube channel that has lots of useful information for you on there. And we'll just replace it in the flow where the other one existed. So it was this merge here. So I'll disconnect that from the tracker. Let's move this up and out of the way. Plug this into the tracker instead. And we've got a new insert. Now you'll see the corners aren't masked off. So let's use our rectangle mask that we had done before. Now we've got rounded corners up there, right? And let's look at the final result down here. And all the work that we had done prior is carrying over exactly. That's a beauty of floating point, resolution, independence of resolve. You can see even here our glow that we have set up, the subtle glow, it's getting some of that red from this bar right here and it's glowing it out and really selling the comp. I'm going to walk you through step by step again on what we've done. So we've taken our original background plate, we've converted to linear using color management, we've tracked in Mocha Pro, we've imported our tracking data into a four point tracker. We've used the offset tool that's up here to extend the corners, right? You could also again, if you don't like using that, you can use the modifier center position. Now to get the screen reflections on, we've actually, because we're in linear mode, we've done a linear add with the merge tools set to the alpha gain down to zero, done that a couple times. And we did that on an unpre multiplied alpha. So we've divided the alpha first, we multiply it back. Then we've taken an edge mask right here, an edge mask and glowed just the edge mask. We've merged that on top. And then we had to get our dynamic island back because Apple said, hey, we need that on our phone to sell the comp. So we put that back on top with the, just a PNG element. We masked that off. We've matched the black levels so that they matched our original source, done a little brightness and contrast to clamp off white values and color values that went over one. Here's a quick before and after. If you load the buffers up here, here's our after. We go to the before by changing to buffer B. We have nothing in it right now. I'm going to load our original footage. And to see the split between them, it's the, it's basically it's the comma period and slash keys on the keyboard. Or you can go over here, buffer, wipe, split. So this split wipe that's right here that you can enable with the slash key is really helpful. And then if you hit command and option, you can jump that to different areas. So if it's in a different area that you want to check, oh, I want to see this part right here, command option, click, it takes you right to that, that part on the split. So you can sort of see what was our dynamic island on that window right there. You know, does that line up, whatever you need to do, make sure color corrections didn't have any negative effect on what you're compositing. I really hope you learned something new today. And because there's so much more to learn, I'll see you in the next video.
