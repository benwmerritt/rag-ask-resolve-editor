---
title: "Never Retrack - Save Magic Mask 2 in DaVinci Resolve 20"
video_id: zyA1lh5OuCU
channel: CreativeVideoTips
url: https://youtube.com/watch?v=zyA1lh5OuCU
duration_seconds: 887.0
date_processed: 2025-11-03
---

## Transcript
DaVinci Resolve 20 has a brand new Magic Mask, and it's way better than the original rotoscoping tool. But like the original, it's stored in cache files, and it's not currently available in Fusion. So today, let's take a look at a tip to save Magic Mask 2 on the color page by using a color generator, rendering it out as a Luma Mat, and then I'll show you how you can reapply it in either the Fusion, Edit, or Color Pages. An important first step before we go to Magic Mask this is to make sure our timeline resolution and frame rate matches that of the footage. So if you're unsure what your footage resolution and frame rate is, click it in the timeline, go to your Inspector, the File section over here is going to show you frame rate, it's going to show you resolution. Just make sure your timeline, when you go to your timeline settings, that those match. Now if your defaults for your project settings are not the same as the frame rate, you can't change this afterwards. So what you'll need to do is create a new timeline by right clicking, say a new timeline, uncheck, Change Project Settings, and under the Format, choose your timeline frame rate here before putting the footage onto it, then you'll be able to make sure that you're going to get every single frame in the rotoscope that we're going to do next on the color page. Magic Mask 2 in DaVinci Resolve 20 is in the same location as it was before. It's this little person icon down here that'll open up the palette. You do have to be in studio for this because it's using AI, it's machine learning to take care of this. But before I actually go and click, I want to make sure you turn on your Mask Overlay, press this button right here, make sure that's white, and that'll give you like a red overlay as you click to see what your selection is. I'm going to click here on the ridge line. As soon as I do that, it made a selection for me, pretty nice and clean. However, it could probably be better. Like if you look up here at the edge, if we change this from quality from faster to better, we get a nicer, much, much nicer result. Now I'm not going to be concerned with the bottom down there where the river is because, well, I'm not going to be concerned with putting text behind that section. I just want to have text pop out above this ridge line. From here, I can just hit this track forward and backwards button. And AI Magic Mask 2 is doing its tracking. And the beauty of this process is we're only going to have to track this once because we're going to render and save out these results so that we don't have to wait for this ever again, especially if we lose the cache for it. And it's done. Now we can preview this just by hitting the play button. We'll see how well this is covering up and masking out for us doing our AI Roto. One thing that's not super clear, especially because this guy has little oranges and reds in it, is to actually see like a black and white matte of this might be really useful. So the way you can do that is I'm going to turn off this red overlay down here. And instead, I'll turn on the highlight mode, which is over here, and then change this to black and white highlight, which basically is what I'm trying to achieve long term anyways. And I can check to see if there's any sort of flickering going on in the black and white levels. And actually, I would say it's done a pretty great job. Now there's the bottom section down here, which I'm not concerned with because I'm not going to be putting things behind this. I'm really just concerned about that top ridge line. But this could be easily taken care of with a second window using a key mix node, which I talk about in a tutorial link right now. That's just a way to apply mass from different nodes and combine them all together. Now if we wanted to harden this up a little bit so that there's, you know, we're cleaning up the white and black, which this might not need it. One thing I often do is there's a black clip and white clip slider down here. And this is just going to harden those up and crunch those down a little bit better. So if we're concerned with that, you could just turn this value up a little bit, turn the white clip down, and that's going to solidify and fill in holes on the mat that's already sort of been generated. I'm going to just call this pretty good for now. And we'll start the next step, which is going to be add the color generator to export this thing out. Now, if I were to export this out, I turn off my highlight mode, we still just have a full color image that's piping out of here. So to add the color generator effect, come over here to your effects. We're going to type in color generator. We'll drag this out. It'll be its own new node. I can close up the effects. We don't need it after that. And what I'll do is I'm going to bring my footage with magic masks down a little bit lower. Actually, I can rename this. So it's really clear. Call this magic because it is magic. And then the color generator also needs to be connected to the source. And what I'm going to be doing is I'm going to take the output of the magic mask. It has that alpha channel that we saw from the highlight mode, right? That's the blue output here. We're going to connect that to the color generator. And what I actually want to do, I don't want to send picture out. I'm just building an aluminum mat. I'm just building aluminum mat. So I'm going to disconnect this from my output to my render. And I'm going to send the output of the color generator instead to my output. And then the last thing, the last little step here in the setup I need to do is actually also add the alpha output, which is going to give me the black part that I'm interested. So I will come down here and say, add alpha output. And then I can drag the blue to the blue. And you'll see this is what I'm going to get when I go to the deliver page. It's just this black and white, this gray scale, aluminum mat that I can reapply in the edit page, fusion page, color page, and the next step. So let's take a look at the deliver page next. From the deliver page, a nice way to set up a preset for these Luma mats, these save magic mats is actually to come over here, choose the ProRes 422 HQ preset. So we're all starting at the same point. Render as individual clips, not the timeline. This will give you the opportunity to do two things. One is we can say render at source resolution, but it's also going to maintain the time code so that you can make sure that they're perfect alignment when they're brought back in later on. Now the type right here, the actual quality of the codec, I could just choose regular 422. I don't need HQ. In fact, I don't even need 444, which is what supports an alpha channel, because we're going to use this as a Luma mat instead. Now the other things to pay attention to over here is going to be the audio tab. We'll turn off export audio. I don't need that. And then the file tab is about, you know, this is where we're going to save it, how we're going to name the thing. Now if you're doing dailies, you would just choose source name, but I'm going to use a custom name and I'm going to use a token to do that. A token is basically a variable that can pull from other metadata that's within the project. So to get access to those, instead of being called untitled, I will hit the percentage sign on the keyboard, start typing clip name. And what clip name actually is, is if you go to the edit page and you select a clip, a clip on the edit timeline can actually have a different name from what's in the bin. And this can be really useful for visual effects. So I have this with a special name down here that was actually named in the inspector, the file tab over here under this category right here. So I named this specifically for this clip. It was originally just DJI, you know, 70. But what I can do on the deliver page over here with that being written right as the new file name is I can also add a suffix to it, maybe something like underscore roto version 01. And then the only other thing I might do over here is disable this add source frame count to file name. I'm going to do that for like a progress clip for, you know, basically making it unique myself. Just click a browse location, save it where you want to go. And before you even render this and kick this thing out, you may come up here and you can say, I want to save this as a preset and I could just call this my magic mask preset or something like that. Add to render queue, render, and it'll render out that individual clip that source resolution with all the timecode. If you want to find it, you can right click on the path over here. There's a reveal and finder. And you'll see how it's taken the name that was from the clip name, which was set on the timeline. And there's our rendered Luma mat. So to make use of this Luma mat, we're going to actually pull it back into DaVinci Resolve. I will just grab it from the finder. Easy way to do this, just drag it and you can throw it into a bin. And to make use of it on a timeline, I'm going to show you how this works. I'm going to use our original footage so you can see I'm not playing any special tricks here. I'm going to drag this over to a new section and on this copy, I will come over here and I can see a reset all grades and nodes. So that's just our original footage on this clip right here. And the way that you stack and use Luma mats on the edit page is basically you put your footage that you want to be cutting out up top. So on the higher level, I'm hitting X for X marks the spot. And then to get this guy down underneath it, I can do a three point edit by targeting video one. And then if I drag over here, I can say overwrite and these should be in alignment. Now it's not being applied yet, but I do want to show you a way you can check to make sure they are frame by frame matching. And that's this three dot menu to say show timecode overlays. And this is that advantage of going and rendering out from the deliver pages. These time codes should be in sync on that same timeline. Now to actually apply the mats, I'm going to turn and show timecode overlays off. This is a blending mode option. So in the inspector video tab, we have composite modes, composite mode normal. So what you do is the footage is on top, you come down to the bottom and you call the footage on top is the foreground. Once you click that, nothing else has happened because on the one below we have to assign this to be a Luma mat. So with the bottom one selected, go to composite mode, come down here, say Luma mat. And you can see we've applied that magic mask Luma mat to the bottom. Now the way you can stack this with some text really easily to sandwich text in between the two is you'd move these up. I'm holding shift while I'm dragging up. You take a copy of the original footage. Now the original footage was up here at the top. I'm holding option shift to drag a copy straight down. That's option or alt shift, bring a copy of the footage back down. And then you could take a sample of text. I just, you know, tried to do this real quickly. A sample of text is sitting in between. So it's basically footage. This is on top. And then are these two layers consist of the patch that we stuck back on top, which is using that combined mat. So you can see I can easily take this new multi text tool and stick this behind and you can animate this however you want. So that's how you combine things in the edit page. The top one is going to be set to composite mode foreground, which is the actual footage. The mat is underneath it and that one is set to Luma. So now to apply this Luma mat infusion on this clip, what we'll do is we'll start by making sure our play heads parked over a clip, click the fusion button, and we're going to load this in as a separate media in from the media pool. So go to the media pull up here, drag in the Luma mat, the ProRes 422 that has no alpha channel. In fact, the way you can check to see if this has an alpha channel, click up here and choose alpha when you're looking at that media. And then you can see there's no alpha channel in it right now. But the bitmap tool is specifically designed to create an alpha channel from an image. So what we'll do, first select your media in to shift space, go to select bitmap tool, and if you add it directly, it connects it not quite how you think it needs to go. It's not correct. What we need to do is send the output of media in to, into the yellow input of bitmap, and we still don't have it totally set up right because the initial channel that this is set to is alpha. And what we want to actually do is take what is the luminance of it instead of the alpha from it, and create the alpha channel. So now we actually have an alpha channel from this. So we can apply this however you want to do it. So if you wanted to just simply take this and stick it into the mask input of media in one, if you take a look, it's basically cut that out for us. But what's really the nice thing about Fusion and compositing in here is you can apply this alpha channel at any stage in the process. So for instance, a way I might quickly build a comp out of this instead of masking off sources, which I rarely like to do, is you can come down here and I might add a tool that's called either a matte control or let's use a simple brightness and contrast because I'll show you how simple this can work. So BC is our brightness and contrast tool. And if we want to apply a mask to this, just hook this into the mask input. Let's take a look at the where it's done. It's done nothing so far. But a lot of these tools on that mask input on the settings tab have a multiply by mask button, which is just going to knock and multiply that alpha channel out for us. So now we have a patch here so we could put text in between different layers of that with some different merges. So what I'll do is let's just grab a text node and we'll put some text here and we can merge this text over the top of the original footage. And then you can see we've got some text over there. I take the text and I raise it up over here and make it larger. You know, so you can sort of see what's happening. And then I've got this patch of it, which is going to come down here. And I do need footage into the brightness and contrast. So there's our patch. This patch is going to get merged over the top of this comp right here. So I'll just take this merge, merge it on top of there. You can see all I need to do is pipe out that result to media out. And you can see how we've been able to do that. And it's a lot cleaner way of doing it because here I have like four layers and here I just have that one to get the text behind an object. Now to apply the matte on the color page, all you need to do is go to the media pool, drag your footage, your Luma matte, the ProRes, not even with an alpha channel. Just down in there you got these blue outputs, connect blue to blue. And you'll notice as soon as I do that, we've got an extra key feed in there. That means we're exclusively sort of cutting that section out. Now you won't see this output over back on the edit page unless you add an alpha output that sends it back to the edit page. The way you do that is like we did before you right click and you say add alpha output, connect blue to blue. And you'll notice when you come back to the edit page, we've actually isolated that. So if you want to stick text between the foreground and background sky, instead of using four layers like you did with the edit page method of doing that, you can just option shift to make a copy above. Take the text with option or alt across here and we've got that sticking between. The only thing is the bottom one, we need to remove the all the the matte that was on it. So I'll go back to the color page, make sure when you come over here that you're selecting the bottom most layer. Okay, so I've got the bottom most selected, right click over here, say reset all nodes and grades. So you can see back over here, now we have access to, you know, do our sort of text behind an object with the saved out magic masks to Luma matte. Hey, welcome. Here I'm Chadwick. You can practice along with the same footage by downloading it from creativevideotips.com by joining the cutting club, which is just a great way to help support this channel. And because there's so much more to learn, I'll see you in the next video.
